/* 1st semester, 1st module, task 7
 * Revarray
 * */

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <assert.h>
#include <stdint.h>
#include <string.h>

void revarray(void* base, size_t nel, size_t width){
    if (!nel || !base){ return;}
    uint8_t *tb = malloc(width);
    uint8_t *pl = base;
    uint8_t *pr = pl + (nel - 1) * width;
    while (pl < pr){
        memcpy(tb, pl, width);
        memcpy(pl, pr, width);
        memcpy(pr, tb, width);
        pl += width;
        pr -= width;
    }
    free(tb);
}
// gm hm actually...   Arithmetic on void pointer is a gnu extension
//                                  ...````````...
//                          ..`""====================""`..
//                      .`"=====""""""""""""""""""""""====="`.
//                   `"===="""""``......       .....``""""""==="`
//                `"===""""``............................``""""==="`
//             .`===""""`....................................`""""===".
//           ."==="""``.........................................`""""==".
//          `==="""``.............................................`""""==`
//        .===""""`................................................`""""===.
//       `=="""""`````````````````````````````````````````````````````""""==`
//      "=="""""```````````````````````````````````````````````````````""""=="
//     "=="""""````````````````````````````````````````````````````````"""""=="
//    "=="""""`"=!|&&risgNuext&||!="``````````````"=!||&&gnuEXTEns&&|!=""""""=="
//   .==""&iconpoINTe&&||||&&&eNSIONa&||||||||||&oINTERis&&|||||&sIONARIThm&""==.
//   ==="=TICONPO|"`............`"=&ARITHMETICONPOi!"`............."!aRITHME="===
//  .=="""=&CONp"```````````"===="``"&ITHMETICONP=```"===="```````````|ITH!="""==.
//  "=="""""cON&"""""""""""=!!!!!!!""=ITHm||&CON|"""!!!!!!!=""""""""""!ITH"""""=="
//  ==="""""|ONp"""""""""""|!!!!!!!!"=ITH="""!ON|""=!!!!!!!|""""""""""|IT&""""""==
//  ===""""""ONP!""""""""""!!!!!!!!="&IT&"""""oNp""=!!!!!!!|""""""""""rIT=""""""==
//  ===""""""|NPo"""""""""""!!!!!!!"!RIt""""""!NP&""!!!!!!!="""""""""|RI|"""""""==
//  "=="""""""&PO&=""""""""""=!!=="|aRi="""""""&Po&="==!!=""""""""""|aR&"""""""=="
//  `==""""""""|OIn|=""""""""""""!onA&="""""""""|Oin|=""""""""""""!&nA&""""""""==`
//  .=="""""""""=|nter&|!!!!!!|&siO&!""""""""""""=|nter|!!!!!!|&&siO&="""""""""==.
//   "=="""""""""""!|&isgnuexte&|!="""""""""""""""""=|&isGnuext&&|!"""""""""""=="
//    ==="""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""==
//    .=="""""""""""""""=|=""""""""""""""""""""""""""""""""=!""""""""""""""""==.
//     `=="""""""""""""""!&&!="""""""""""""""""""""""""""=||!"""""""""""""""==`
//      `==""""""""""""""""!&&&|!==""""""""""""""""==!!||||="""""""""""""""==`
//       .===""""""""""""""""!|&&&&&!.....`....."|||||||!="""""""""""""""===.
//         "=="""""""""""""""""=!|||.     `      !|||!="""""""""""""""""=="
//          ."=="""""""""""""""""""".     `     ."="""""""""""""""""""==".
//            ."==""""""""""""""""""""`..`"`..`"""""""""""""""""""""==".
//              ."===""""""""""""""""""""""""""""""""""""""""""""===".
//                 `"===""""""""""""""""""""""""""""""""""""""==="`
//                    `"====""""""""""""""""""""""""""""""===="`
//                       .`""=====""""""""""""""""""=====""`.
//                            ..``""==============""``..
//                                      ......